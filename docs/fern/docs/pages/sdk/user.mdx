---
slug: sdk/current-user
---

## `CurrentUser`, `ServerUser`, and `CurrentServerUser`

There are three main types of user objects you'll work with:

- `CurrentUser`: Represents the currently authenticated user on the client side. It has an active session (typically stored in browser cookies) and can be used in client-side code.
- `ServerUser`: Represents a user on the server side without an active session. This type has expanded capabilities compared to `CurrentUser`, such as the ability to update emails or passwords without requiring confirmation. However, it lacks session-dependent functions like `signOut()`.
- `CurrentServerUser`: It combines the attribute and methods of both `ServerUser` and `CurrentUser`.

Each of these types serves a specific purpose and is used in different contexts within your application, allowing for flexible and secure user management across both client and server environments.

## `CurrentUser` Object

You can call `useUser()` or `stackServerApp.getUser()` to get the `CurrentUser` object.

### Attributes

- `id` (string): The user ID. This is the unique identifier of the user.
- `displayName` (string | null): The display name of the user. Can be changed by the user.
- `primaryEmail` (string | null): The primary email of the user. Note: this is not unique.
- `primaryEmailVerified` (boolean): Whether the primary email is verified.
- `profileImageUrl` (string | null): The profile image URL of the user.
- `signedUpAt` (Date): The Date when the user signed up.
- `hasPassword` (boolean): Whether the user has a password set.
- `clientMetadata` (object): The JSON metadata that is visible on the client side. Note that this should not contain information that should be kept private on the server side.
- `clientReadOnlyMetadata` (object): Metadata that can be read on the client side but can only be modified on the server side.
- `selectedTeam` (Team | null): The currently selected team for the user, if applicable.

### Methods

#### `update`

**Parameters:**

- `update` (object):
  - `displayName` (string | undefined): The new display name for the user.
  - `clientMetadata` (object | undefined): Custom metadata visible to the client.
  - `selectedTeamId` (string | null | undefined): The ID of the team to set as selected, or null to clear selection.
  - `profileImageUrl` (string | null | undefined): The URL of the user's new profile image (base64 image allowed, crop and compress before passing it in), or null to remove.

This method can update the user's profile information. Here is an example:

```typescript
await user.update({
  displayName: "New Display Name",
  clientMetadata: {
    address: "123 Main St",
  },
});
```

#### `signOut`

This will sign out the user and clear the session.

Example: 
```typescript
await user.signOut();
```

#### `updatePassword`

**Parameters:**

- `options` (object):
  - `oldPassword` (string): The old password.
  - `newPassword` (string): The new password.

**Returns:**

`Result<void, KnownErrors["PasswordConfirmationMismatch"] | KnownErrors["PasswordRequirementsNotMet"]>`

This will update the user's password. It will return an error object (not throw an error) if the passwords mismatch or if the new password does not meet the requirements. If successful, it will return undefined.

Example: 
```typescript
const result = await user.updatePassword({
  currentPassword: "oldPassword",
  newPassword: "newPassword",
});
if (result.status === "error" ) {
  console.error("Error updating password", result.error);
} else {
  console.log("Password updated");
}
```

## `CurrentServerUser`

If you call `getUser()` on a `StackServerApp`, you will get the `CurrentServerUser` object. It contains all the fields and methods of `CurrentUser`, but also has some additional data.

### Attributes

- `serverMetadata`: The JSON metadata that is visible on the server side. This contains information that should be kept private on the server side. Do not share this with the client.

### Methods

#### `delete`

This will delete the user. Use it with caution as it is irreversible.

Example:
```typescript
await serverUser.delete();
```
