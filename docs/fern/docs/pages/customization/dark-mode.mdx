---
slug: customization/dark-mode
---

Stack components support light and dark mode out of the box. You can switch between light and dark mode using [next-themes](https://github.com/pacocoursey/next-themes) (or any other library that changes the `data-theme` or `class` to `dark` or `light` attribute of the `html` element).

Here is an example of how to set up next-themes with Stack (find more details in the [next-themes documentation](https://github.com/pacocoursey/next-themes)):

1. Install next-themes:

  ```bash
  npm install next-themes
  ```

2. Add the `ThemeProvider` to your `layout.tsx` file:

  ```jsx
  import { ThemeProvider } from 'next-themes'

  export default function Layout({ children }) {
    return (
      <ThemeProvider>
        <StackTheme>
          {children}
        </StackTheme>
      </ThemeProvider>
    )
  }
  ```

3. Build a color mode switcher component:

  ```jsx
  'use client';
  import { useTheme } from 'next-themes'

  export default function ColorModeSwitcher() {
    const { theme, setTheme } = useTheme()
    return (
      <button onClick={() => setTheme(theme === 'light' ? 'dark' : 'light')}>
        Toggle theme
      </button>
    )
  }
  ```

Now if you put the `ColorModeSwitcher` component in your app, you should be able to switch between light and dark mode. There should be no flickering or re-rendering of the page after reloading.
