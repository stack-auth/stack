---
slug: concepts/permissions
subtitle: Control what each user can do and access with the permission system
---

## Team Permissions

Team permissions control what a user can do within each Team. You can create permissions on the Stack dashboard and assign them to each team members. You can then verify in your app whether a user has a specific permission in a team, like `create_post`, `read_secret_info`, etc.

Permissions can be nested, allowing you to create a hierarchical structure. For instance, an `admin` permission can include `moderator` and `user` permissions. We provide tools to help you verify whether a user has a permission directly or indirectly.


### Create a permission

You can create a new permission on the `Team Permissions` section of the Stack dashboard.

You can select the permissions that the new permission contains. All the permissions that are (recursively) contained by the contained permissions will also be included.


### System permissions

Stack creates a few useful team permissions for all the projects, these permissions are called system permissions and they start with a dollar sign `$`. 

You can use assign these permissions to memebers or create another permission that contains these permissions, but you can't modify them as they are used in Stack backend system.


### Check if a User has a Permission

You can check if a user has a specific permission by using the `getPermission` method or `usePermission` hook on the `User` object. This returns the `Permission` object if the user has it; otherwise, it returns `null`. Be cautious with client-side checks for permissions, as they can be bypassed. Always perform permission checks on the server side for business logic. Here is an example:

<Tabs>
  <Tab title="Client Component">
    ```tsx title="Check user permission on the client"
    "use client";
    import { useUser } from "@stackframe/stack";

    export function CheckUserPermission() {
      const user = useUser({ or: 'redirect' });
      const permission = user.usePermission('read');

      // Don't rely on client side permission checks for business logic
      return <div>
        {permission ? 'You have the read permission' : 'You shall not pass'}
      </div>;
    }
    ```
  </Tab>

  <Tab title="Server Component">
    ```tsx title="Check user permission on the server"
    import { stackServerApp } from "@/stack";

    export default async function CheckUserPermission() {
      const user = await stackServerApp.getUser({ or: 'redirect' });
      const permission = await user.getPermission('read');

      // This is a server side check, so it's secure
      return <div>
        {permission ? 'You have the read permission' : 'You shall not pass'}
      </div>;
    }
    ```
  </Tab>
</Tabs>


### List All the Permissions of a User

To get all permissions a user has, use the `listPermissions` method or `usePermissions` hook on the User object. This method retrieves all direct and indirect permissions. Here is an example:

<Tabs>
  <Tab title="Client Component" default>
    ```tsx title="List user permissions on the client"
    "use client";
    import { useUser } from "@stackframe/stack";

    export function DisplayUserPermissions() {
      const user = useUser({ or: 'redirect' });
      const permissions = user.usePermissions();

      return <div>
        {permissions.map(permission => <div key={permission.id}>{permission.id}</div>)}
      </div>;
    }
    ```
  </Tab>

  <Tab title="Server Component">
    ```tsx title="List user permissions on the server"
    import { stackServerApp } from "@/stack";

    export default async function DisplayUserPermissions() {
      const user = await stackServerApp.getUser({ or: 'redirect' });
      const permissions = await user.listPermissions();

      return <div>
        {permissions.map(permission => <div key={permission.id}>{permission.id}</div>)}
      </div>;
    }
    ```
  </Tab>
</Tabs>

### Grant a Permission to a User

To grant a permission to a user, you can call the `grantPermission` method on the `ServerUser`. Here is an example:

```tsx
const team = await stackServerApp.getTeam('teamId');
const user = await stackServerApp.getUser();
await user.grantPermission(team, 'read');
```

### Revoke a Permission from a User

To revoke a permission from a user, you can call the `revokePermission` method on the `ServerUser`. Here is an example:

```tsx
const team = await stackServerApp.getTeam('teamId');
const user = await stackServerApp.getUser();
await user.revokePermission(team, 'read');
```
